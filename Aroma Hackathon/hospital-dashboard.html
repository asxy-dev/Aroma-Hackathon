<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BloodConnect Hospital Dashboard</title>
<meta name="description" content="BloodConnect Hospital Management System" />
<link rel="icon" href="images/logo.png" type="image/png" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="hospital-dashboard.css" />
</head>
<body>
<div class="login-container" id="loginBox">
  <div class="login-form">
    <h2>Hospital Login</h2>
    <div id="loginError" class="error-message"></div>
    <form id="hospitalLogin">
      <div class="form-group">
        <label>Email</label>
        <input name="email" type="email" required value="cmc@gmail.com">
      </div>
      <div class="form-group">
        <label>Password</label>
        <input name="password" type="password" required value="cmc123#">
      </div>
      <button class="login-btn" type="submit">Login</button>
    </form>
  </div>
</div>
<div class="hospital-container" id="dashboardBox" style="display:none">
  <div class="sidebar">
    <div class="sidebar-header">
      <img src="images/logo.png" alt="Logo" style="background: #fff; padding: 5px; border-radius: 50%;">
      <h2>Hospital Portal</h2>
    </div>
    <ul class="nav-menu">
      <li><a href="#dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
      <li><a href="#requests"><i class="fas fa-tint"></i> Blood Requests</a></li>
      <li><a href="#inventory"><i class="fas fa-warehouse"></i> Blood Inventory</a></li>
      <li><a href="#history"><i class="fas fa-history"></i> Request History</a></li>
    </ul>
  </div>
  <div class="main-content">
    <div class="header">
      <h1>CMC Hospital Dashboard</h1>
      <div class="user-menu">
        <div class="user-avatar">C</div>
        <button class="logout-btn" id="logoutBtn">Logout</button>
      </div>
    </div>
    <div class="stats-grid">
      <div class="stat-card">
        <span class="stat-number" id="statPending">0</span>
        <span class="stat-label">Pending Requests</span>
      </div>
      <div class="stat-card">
        <span class="stat-number" id="statAccepted">0</span>
        <span class="stat-label">Accepted Today</span>
      </div>
      <div class="stat-card">
        <span class="stat-number" id="statEmergency">0</span>
        <span class="stat-label">Emergency Cases</span>
      </div>
      <div class="stat-card">
        <span class="stat-number" id="statTotal">0</span>
        <span class="stat-label">Total Requests</span>
      </div>
    </div>
    <div class="data-section">
      <div class="section-header">
        <h2>Blood Requests</h2>
        <button onclick="refreshData()" class="logout-btn" style="background: #16a34a; padding: 0.4rem 0.8rem; font-size: 0.9rem;">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
      </div>
      <table id="requestsTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Patient</th>
            <th>Blood Type</th>
            <th>Units</th>
            <th>Contact</th>
            <th>Urgency</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="requestsTableBody">
          <tr>
            <td colspan="8" class="loading">Loading requests...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div class="notification" id="notification">
  <i class="fas fa-check-circle"></i>
  <span id="notificationText">User has been notified through their account</span>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.min.js"></script>
<script src="database.js"></script>
<script src="hospital-dashboard.js"></script>
</body>
</html>